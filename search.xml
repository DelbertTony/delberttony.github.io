<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>RHOSP13实验手册</title>
    <url>/2022/06/05/RHOSP13%E5%AE%9E%E9%AA%8C%E6%89%8B%E5%86%8C/</url>
    <content><![CDATA[<h1>RHOSP13实验手册</h1>
<h2 id="第一章-红帽Openstack平台架构">第一章 红帽Openstack平台架构</h2>
<h3 id="第一节：介绍">第一节：介绍</h3>
<img src="/2022/06/05/RHOSP13%E5%AE%9E%E9%AA%8C%E6%89%8B%E5%86%8C/image-20220606112025776.png" class title="实验环境">
<ul>
<li>课程中使用power节点模拟虚拟机电源管理。</li>
<li>power节点中CLI接口，创建虚拟主板管理控制器（BMC），通过hypervisor来使用IPMI协议管理每个RHOSP虚拟机，以模拟裸机管理方式。</li>
<li>每台虚拟机都需要一个虚拟BMC，各自在 623 端口上监听power 节点的 BMC 配置，如下所示：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[root@power ~]<span class="comment"># netstat -tulnp | grep 623</span></span><br><span class="line">udp 0 0 172.25.249.112:623 0.0.0.0:*</span><br><span class="line">1259/python</span><br><span class="line">udp 0 0 172.25.249.106:623 0.0.0.0:*</span><br><span class="line">1246/python</span><br><span class="line">udp 0 0 172.25.249.103:623 0.0.0.0:*</span><br><span class="line">1233/python</span><br><span class="line">udp 0 0 172.25.249.102:623 0.0.0.0:*</span><br><span class="line">1220/python</span><br><span class="line">udp 0 0 172.25.249.101:623 0.0.0.0:*</span><br><span class="line">1207/python</span><br><span class="line">[root@power ~]<span class="comment"># cat /etc/bmc/vms</span></span><br><span class="line">controller0,172.25.249.101</span><br><span class="line">compute0,172.25.249.102</span><br><span class="line">ceph0,172.25.249.103</span><br><span class="line">computehci0,172.25.249.106</span><br><span class="line">compute1,172.25.249.112</span><br><span class="line"><span class="comment">#远程控制开关机</span></span><br><span class="line">(undercloud) [stack@director ~]$ ipmitool -I lanplus -U admin -P password -H</span><br><span class="line">172.25.249.112 power on</span><br></pre></td></tr></table></figure>
<p><strong>查看undercloud的部署镜像</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">(undercloud) [stack@director ~]$ openstack image list</span><br><span class="line">+--------------------------------------+------------------------+--------+</span><br><span class="line">| ID | Name | Status |</span><br><span class="line">+--------------------------------------+------------------------+--------+</span><br><span class="line">| fab32297-d1e2-4598-9e4e-6b02c8982c6f | bm-deploy-kernel | active |</span><br><span class="line">| bc8408a7-3074-4c56-8992-a56637f561e0 | bm-deploy-ramdisk | active |</span><br><span class="line">| ff82c9a3-eead-489f-a862-ca7b2b245a60 | overcloud-full | active |</span><br><span class="line">| 86901767-c252-4711-867e-a06eb52b4bfc | overcloud-full-initrd | active |</span><br><span class="line">| 4b823922-4757-468f-aad4-1e7bf0f585fa | overcloud-full-vmlinuz | active |</span><br><span class="line">+--------------------------------------+------------------------+--------+</span><br></pre></td></tr></table></figure>
<ul>
<li>bm-deploy-kernel和bm-deploy-ramdisk 是用来引导操作系统启动的镜像，overcloud中的服务器 第一次启动就会使用这两个镜像，做服务器体检，获得服务器的信息，交给ironic服务的数据库，然后将服务器关机。</li>
<li>系统第二次启动会使用overcloud-full-initrd 和overcloud-full-vmlinuz，将服务器再次启动。</li>
<li>服务器启动后，在硬盘上注入overcloud-full这个镜像，然后根据ks脚本将服务器部署成为是控制节点还是计算节点。overcloud-full镜像不仅包含了系统，还包含了ceph和openstack所有的软件包，根据heat编排，将各节点部署成为各个角色。</li>
</ul>
<h3 id="第二节：OpenStack-服务组件通信故障排除方法">第二节：OpenStack 服务组件通信故障排除方法</h3>
<ol>
<li>通过查看 Keystone 日志文件定位故障：/var/log/contaners/keystone/keystone.log</li>
<li>通过查看 RabbitMQ 消息代理定位故障（oslo）</li>
<li>通过查看各服务的 API 日志信息定位故障：/var/log/containers//api.log</li>
<li>通过查看各服务组件的日志信息定位故障</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">openstack catalog service_name --debug</span><br><span class="line"><span class="comment">#举例：</span></span><br><span class="line">openstack catalog nova --debug</span><br><span class="line">openstack catalog show nova --debug</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>学习</category>
      </categories>
      <tags>
        <tag>RHCA</tag>
        <tag>openstack</tag>
      </tags>
  </entry>
  <entry>
    <title>复旦CTJ</title>
    <url>/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/</url>
    <content><![CDATA[<h1>记录ctj三战复旦<mark class="label ">403</mark></h1>
<h2 id="金专妥妥有书读">金专妥妥有书读</h2>
<div class="note default"><h4 id="《重生之我在上外贸》-mark-class-label-default-QAQ-恭喜ctj即将上岸（一定！）数院调剂加油！-mark">《重生之我在上外贸》  <s><mark class="label default">QAQ 恭喜ctj即将上岸（一定！）数院调剂加油！</mark></s></h4>
<span id="more"></span>
<ul>
<li>但是今年是真的卷啊！！<em><mark class="label warning">预估排名</mark></em></li>
</ul>
<!-- <img src="3.jpg" width="30%" height="30%"  style="margin: 0 auto;"/> -->
<!--![卷](6.jpg "太卷啦")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/6.jpg" class title="太卷啦">
<ul>
<li>其中还不乏有内鬼搞心态=-=</li>
</ul>
<!--
<img src="1.jpg" width="30%" height="30%" style="display:inline-block;"/>
<img src="2.jpg" width="30%" height="30%" style="display:inline-block;margin-left:10px;"/>
-->
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/1.jpg" class title="内鬼1！"></div><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/2.jpg" class title="内鬼2！"></div></div></div>
<ul>
<li>预计扩招还挺有机会的。</li>
</ul>
<!--<img src="5.jpg" width="30%" height="30%"  style="margin: 0 auto;"/>-->
<!--![扩招](5.jpg "扩招！")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/5.jpg" class title="扩招">
<ul>
<li>金融确实太卷了，粥粥还要考啊？hhh</li>
</ul>
<!--<img src="4.jpg" width="30%" height="30%"  style="margin: 0 auto;"/>-->
<!--![预估分数线](4.jpg "预估分数线")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/4.jpg" class title="预估分数线">
<ul>
<li>还有一周出校线啦！更新一波最新补全成绩：</li>
</ul>
<!--![补全成绩](7.jpg "补全成绩]")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/7.jpg" class title="预估分数线">
<ul>
<li>国家线高得离谱啊，今年是什么，意在让大家积极就业么=-=</li>
</ul>
<!--![国家线](10.jpg "国家线]")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/10.jpg" class title="国家线">
<ul>
<li>清华这应用统计数三划线140？<s><mark class="label default">山东师范也太可怜了orz</mark></s></li>
</ul>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/8.jpg" class title="清华"></div></div><div class="group-picture-row"><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/9.jpg" class title="山东师范"></div></div></div>
<ul>
<li>校线已出，“内部消息”三院同线：<mark class="label ">400</mark>！上岸上岸！</li>
</ul>
<!--![复旦校线](11.jpg "复旦校线")-->
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/11.jpg" class title="复旦校线">
<ul>
<li>明天qxd数院复试，加油呀尽力就好了~27进16冲！</li>
</ul>
<div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/12.jpg" class title="调剂通知"></div><div class="group-picture-column"><img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/13.jpg" class title="调剂名单"></div></div></div>
<ul>
<li>最后的最后调剂至上外贸，恭喜~ 在往后的日子里继续加油吧，要相信自己。<br>
<img src="/2022/03/05/%E5%A4%8D%E6%97%A6CTJ/14.jpg" class title="上外贸录取"></li>
</ul>
</div>]]></content>
      <categories>
        <category>好友</category>
      </categories>
      <tags>
        <tag>CTJ</tag>
      </tags>
  </entry>
</search>
